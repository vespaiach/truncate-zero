{"version":3,"file":"truncate-zero.esm.js","sources":["../src/index.ts"],"sourcesContent":["/**\n * Default rounding function.\n */\nfunction _round(num: number) {\n  return parseInt(num.toFixed(0));\n}\n\n/**\n * Format a number as short string by truncating ending zeros: 1k, 2.2k, -45.1m...\n * @param num Number to be formatted\n * @param options (optional) input suffixes: k, m, b, t and the rounding function\n */\nexport default function truncateZero(\n  num: number,\n  options?: {\n    thousand?: string;\n    million?: string;\n    billion?: string;\n    trillion?: string;\n    round?: (n: number) => number;\n  }\n): string {\n  const absNum = Math.abs(num);\n  const opts = Object.assign(\n    {},\n    {\n      thousand: 'k',\n      million: 'm',\n      billion: 'b',\n      trillion: 't',\n      round: _round,\n    },\n    options || {}\n  );\n  const { round = _round, thousand, million, billion, trillion } = opts;\n\n  if (absNum <= 999) {\n    return String(round(num));\n  } else if (absNum <= 999999) {\n    return `${round(num) / 1000}${thousand}`;\n  } else if (absNum <= 999999999) {\n    return `${round(num) / 1000000}${million}`;\n  } else if (absNum <= 999999999999) {\n    return `${round(num) / 1000000000}${billion}`;\n  } else {\n    return `${round(num) / 1000000000000}${trillion}`;\n  }\n}\n"],"names":["_round","num","parseInt","toFixed","truncateZero","options","absNum","Math","abs","opts","Object","assign","thousand","million","billion","trillion","round","String"],"mappings":"AAAA;;;AAGA,SAASA,MAAT,CAAgBC,GAAhB;AACE,SAAOC,QAAQ,CAACD,GAAG,CAACE,OAAJ,CAAY,CAAZ,CAAD,CAAf;AACD;AAED;;;;;;;SAKwBC,aACtBH,KACAI;AAQA,MAAMC,MAAM,GAAGC,IAAI,CAACC,GAAL,CAASP,GAAT,CAAf;AACA,MAAMQ,IAAI,GAAGC,MAAM,CAACC,MAAP,CACX,EADW,EAEX;AACEC,IAAAA,QAAQ,EAAE,GADZ;AAEEC,IAAAA,OAAO,EAAE,GAFX;AAGEC,IAAAA,OAAO,EAAE,GAHX;AAIEC,IAAAA,QAAQ,EAAE,GAJZ;AAKEC,IAAAA,KAAK,EAAEhB;AALT,GAFW,EASXK,OAAO,IAAI,EATA,CAAb;oBAWiEI,KAAzDO;MAAAA,iCAAQhB;MAAQY,WAAyCH,KAAzCG;MAAUC,UAA+BJ,KAA/BI;MAASC,UAAsBL,KAAtBK;MAASC,WAAaN,KAAbM;;AAEpD,MAAIT,MAAM,IAAI,GAAd,EAAmB;AACjB,WAAOW,MAAM,CAACD,KAAK,CAACf,GAAD,CAAN,CAAb;AACD,GAFD,MAEO,IAAIK,MAAM,IAAI,MAAd,EAAsB;AAC3B,gBAAUU,KAAK,CAACf,GAAD,CAAL,GAAa,IAAvB,GAA8BW,QAA9B;AACD,GAFM,MAEA,IAAIN,MAAM,IAAI,SAAd,EAAyB;AAC9B,gBAAUU,KAAK,CAACf,GAAD,CAAL,GAAa,OAAvB,GAAiCY,OAAjC;AACD,GAFM,MAEA,IAAIP,MAAM,IAAI,YAAd,EAA4B;AACjC,gBAAUU,KAAK,CAACf,GAAD,CAAL,GAAa,UAAvB,GAAoCa,OAApC;AACD,GAFM,MAEA;AACL,gBAAUE,KAAK,CAACf,GAAD,CAAL,GAAa,aAAvB,GAAuCc,QAAvC;AACD;AACF;;;;"}